<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <title>Fleet managment</title>
</h:head>

<h:body>
    <p:toolbar style="width: 80%; margin: auto;">
        <p:toolbarGroup>
            <p:button href="/manager"  value="Back.." icon="pi pi-arrow-circle-left" styleClass="mr-2" />
        </p:toolbarGroup>
        <p:toolbarGroup>
            <p:button href="/logout" value="Log out" icon="pi pi-sign-out" styleClass="ui-button-success" />
        </p:toolbarGroup>
    </p:toolbar>
<!-- ADD NEW TRUCK BLOCK -->
<p:panel header="Add new truck" style="width: 80%; margin: auto;" toggleable="true" collapsed="true" toggleableHeader="true" toggleSpeed="200">
    <h:form id="addTruckForm">
    <p:panelGrid columns="4" styleClass="ui-noborder" contentStyleClass="align-items-baseline ui-fluid">
        <p:outputLabel for="regnum" value="Reg.number: " />
        <p:inputText id="regnum" itemLabel="ILA" value="#{addUserController.user.username}" />

        <p:outputLabel for="capacity" value="Capacity: " />
        <p:inputNumber id="capacity" title="TIT" value="#{addUserController.user.password}" />
        <p:outputLabel for="drivers" value="Drivers: " />
        <p:inputNumber id="drivers" value="#{addUserController.user.email}" />
        <p:outputLabel for="city" value="City: " />
            <p:selectOneMenu id="city" value="#{addUserController.user.role}" style="width: 195px">
                <f:selectItem itemLabel="Moscow" itemValue="Moscow"/>
                <f:selectItem itemLabel="Petersburg" itemValue="Petersburg"/>
                <f:selectItem itemLabel="Voronezh" itemValue="Voronezh"/>
                <f:selectItem itemLabel="Novosibirsk" itemValue="Novosibirsk"/>
            </p:selectOneMenu>
        <p:outputLabel for="isbroken" value="Is broken?: " />
        <p:selectBooleanCheckbox id="isbroken" value="#{addUserController.user.email}" />
        <p:commandButton value="Save" action="#{fleetController.addUser}" />
    </p:panelGrid>
    </h:form>
</p:panel>
<!-- TRUCK LIST BLOCK -->
    <p:panel header="View trucks list" style="width: 80%; margin: auto;" toggleable="true" collapsed="true" toggleableHeader="true" toggleSpeed="200">
        <p:outputPanel id="dataTablePanel">

        <p:dataTable var="truck" value="#{fleetController.fleet}">
    <p:column headerText="Reg.number">
        <p:outputLabel value="#{truck.regNumber}"/>
    </p:column>
     <p:column headerText="Capacity">
         <p:outputLabel value="#{truck.capacity}"/>
     </p:column>
     <p:column headerText="Drivers">
         <p:outputLabel value="#{truck.driversNum}"/>
     </p:column>
     <p:column headerText="Curr.city">
         <p:outputLabel value="#{truck.currentCity}"/>
     </p:column>
     <p:column headerText="Status">
         <p:outputLabel value="#{truck.status}" style="#{fleetController.getColorByStatus(truck.status)}"/>
     </p:column>
 </p:dataTable>
        </p:outputPanel>
<!-- A NEXT BLOCK -->
</p:panel>

</h:body>

</html>